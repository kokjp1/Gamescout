<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Choose Your Profile Picture</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .profile-picker {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .profile-picker img {
      width: 100px;
      height: 100px;
      cursor: pointer;
      border-radius: 50%;
    }
    .selected {
      border: 3px solid #4CAF50;
    }
  </style>
</head>
<body>
  <h1>Choose Your Profile Picture</h1>
  <div class="profile-picker">
    <!-- Loop over profile pictures -->
    <% const profilePics = ['profile1.jpg', 'profile2.jpg', 'profile3.jpg', 'profile4.jpg']; %>
    <% profilePics.forEach(pic => { %>
      <div class="profile-item">
        <img src="/<%= pic %>" alt="<%= pic %>" onclick="selectProfile('<%= pic %>')" id="<%= pic %>" />
      </div>
    <% }) %>
  </div>

  <form action="/home" method="POST" id="profileForm">
    <input type="hidden" name="profilePic" id="profilePic" />
    <button type="submit">Save Profile Picture</button>
  </form>

  <script>
    let selectedPic = null;

    function selectProfile(pic) {
      // Remove previously selected profile's border
      if (selectedPic) {
        document.getElementById(selectedPic).classList.remove('selected');
      }
      // Add selected border to the clicked image
      selectedPic = pic;
      document.getElementById(pic).classList.add('selected');
      // Set hidden field value to the selected profile
      document.getElementById('profilePic').value = pic;
    }
  </script>
</body>
</html>
